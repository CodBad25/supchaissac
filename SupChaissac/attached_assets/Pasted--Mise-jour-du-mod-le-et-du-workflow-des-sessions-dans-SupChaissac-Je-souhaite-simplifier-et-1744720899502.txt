## ğŸ› ï¸ Mise Ã  jour du modÃ¨le et du workflow des sessions dans SupChaissac

Je souhaite simplifier et renforcer le workflow de validation des heures dans mon application. Voici les changements Ã  appliquer dans lâ€™ensemble du projet :

---

### âœ… 1. Remplacer les statuts existants par les suivants :

Merci de remplacer complÃ¨tement lâ€™Ã©numÃ©ration `session_status` par ces valeurs :

- `SUBMITTED` â†’ CrÃ©Ã© par lâ€™enseignant
- `INCOMPLETE` â†’ Ã€ complÃ©ter (il manque une info ou un document)
- `REVIEWED` â†’ VÃ©rifiÃ© (par le secrÃ©tariat ou le principal)
- `VALIDATED` â†’ ValidÃ© par le principal (peut Ãªtre transformÃ©)
- `READY_FOR_PAYMENT` â†’ En attente de saisie manuelle par le secrÃ©tariat
- `PAID` â†’ PayÃ©e (statut final)
- `REJECTED` â†’ RefusÃ© dÃ©finitivement

âš ï¸ Attention : ces statuts remplacent ceux existants (`PENDING_REVIEW`, etc.). Il faut donc adapter en consÃ©quence tous les contrÃ´leurs, tests, composants React et affichages.

---

### âœ… 2. Ajouter le champ `originalType` Ã  la table des sessions

Ce champ est du mÃªme type que `type` (`session_type`). Il doit :

- ÃŠtre initialisÃ© Ã  la crÃ©ation avec la mÃªme valeur que `type`
- Ne jamais Ãªtre modifiÃ© ensuite, mÃªme si le `type` est transformÃ©
- Permettre de tracer qu'une session a Ã©tÃ© dÃ©clarÃ©e comme "AUTRE" puis transformÃ©e

Exemple : une session dÃ©clarÃ©e comme `AUTRE` puis validÃ©e comme `RCD` doit garder `originalType = AUTRE`, `type = RCD`.

---

### âœ… 3. Adapter la logique mÃ©tier de transformation

- Lorsquâ€™un principal valide une session, il doit pouvoir **changer le type** (ex: AUTRE â†’ HSE)
- Seul le principal peut faire cette transformation
- Si possible, une trace ou un commentaire liÃ© Ã  la transformation doit Ãªtre conservÃ© (dans un log, ou champ texte, ou historique)

---

### âœ… 4. Impacts attendus

Merci dâ€™adapter :
- Le modÃ¨le Drizzle (ajout du champ, nouvelle enum)
- Les validations Zod
- Les appels API concernÃ©s (crÃ©ation, mise Ã  jour, validation)
- Le frontend React (formulaires, dashboard, filtres, affichage des statuts)
- Les statistiques (elles doivent utiliser `type`, pas `originalType`)